---
layout: post
title: Regular expressions (Ruby)
date: 2013-10-19 15:40:45.000000000 +00:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Ruby
tags:
- regex
- regular expression
- regular expressions
- ruby
meta:
  _edit_last: '44872122'
  _publicize_pending: '1'
author:
  login: lurajcevi
  email: traxdater12@gmail.com
  display_name: lurajcevi
  first_name: ''
  last_name: ''
excerpt: Things you should know about ruby regular expressions.
---
<h3>Things you should know about ruby regular expressions:</h3>
<ol style="text-align:left;">
<ol>
<ul>
<li>Regular expressions use <code>/ /</code> (slash) symbols.<br />
<code><code><code>p //.class<br />
=&gt; Regexp</code></code></code></li>
<li>You can check if string matches regular expression and vice versa<br />
<code><code><code>p true if /abc/.match("abc")<br />
=&gt; true<br />
p true if "abc".match(/abc/)<br />
=&gt; true</code></code></code> <!--more--></li>
<li>You can also use <code>~=</code> operator instead of <code>.match()</code><br />
<code><code><code>p "abc" =~ /abc/<br />
p /abc/ =~ "abc"</code></code></code></li>
<li>To match any character use the <code> . </code> (dot)<br />
<code><code><code>p /./ =~ "a"<br />
=&gt; 0<br />
p /./ =~ "-"<br />
=&gt; 0</code></code></code></li>
<li>To match one of many characters use <code>[ ] </code><br />
<code><code><code>p /[abcd]/ =~ "a"<br />
p /[abcd]/ =~ "c"<br />
p /[a-z]/ =~ "k"<br />
p /[A-Za-z0-9]/ =~ "8"<br />
p /[A-Za-z0-9]/ =~ "a"<br />
p /[A-Za-z0-9]/ =~ "G"<br />
=&gt; 0</code></code></code></li>
<li>To negate a character in search, ie. search all that is NOT this character, use <code> ^ </code> (caret) symbol<br />
<code><code>p /[^a]/ =~ "abc" # =&gt; 1<br />
p /[^a-zA-Z0-9]/ =~ "abcABC012" # =&gt; nil</code></code></li>
<li>You can match certain other types of characters using this handy notation:<br />
<code><code><code> # \w -&gt; any digit, character or underscore<br />
# \s -&gt; whitespace<br />
## Negated versions<br />
# \D -&gt; any character that is not a digit<br />
# \W -&gt; any character that is not alfanumeric and/or underscore<br />
# \S -&gt; everything but whitespace<br />
p /\d/ =~ "9"<br />
=&gt; 0<br />
p /\d\d\d\d/ =~ "1999"<br />
=&gt; 0</code></code></code></li>
<li>You can group substrings using <code> ( ) </code> parentheses.<br />
<code><code><code> # for example, string is: "04. 09. 2013."<br />
p /(\d\d\.)\s(\d\d\.)\s(\d\d\d\d\.)$/ =~ "04. 09. 2013." # =&gt; 0<br />
p $1 # =&gt; "04."<br />
p $2 # =&gt; "09."<br />
p $3 # =&gt; "2013."<br />
# or<br />
date = "04. 09. 2013.".match(/(\d\d\.)\s(\d\d\.)\s(\d\d\d\d\.)$/)<br />
# if successful<br />
whole_string = date[0]<br />
day = date[1]<br />
month = date[2]<br />
year = date[3]<br />
p day + month + year # =&gt; "04.09.2013."<br />
# all matching groups in one array:<br />
p date.captures # =&gt; ["04.", "09.", "2013."]</code></code></code></li>
<li>You can grab characters before and after the matched text:<br />
<code><code><code>m = "Today is 04. 09. 2013. and tommorow is not.".match(/(\d\d\.)\s(\d\d\.)\s(\d\d\d\d\.)/)<br />
p m.pre_match # =&gt; "Today is "<br />
p m.post_match # =&gt; " and tommorow is not."</code></code></code></li>
<li>Greedy quantifiers <code> + </code> and <code> * </code> eat up as much characters as they can:<br />
<code><code><code>string = "abc!def!ghi!"<br />
match = /.+!/.match(string)<br />
p match[0] # =&gt; "abc!def!ghi!"</code></code></code></li>
<li>To remove 'greedyness' you put <code> ? </code> (question mark) after the quantifier:<br />
<code><code><code>match = /.+?!/.match(string)<br />
p match[0] # =&gt; "abc!"</code></code></code></li>
<li>You can specify number of repetitions per match like this:<br />
<code><code><code>## number of repetitions is presented with {num} expression<br />
p "1234" =~ /\d{4}/ # =&gt; 0 (index)<br />
p "123.432.asd" =~ /\d{3}\.\d{3}\.\w{3}$/ # =&gt; 0 (index)<br />
# you can also use ranges<br />
p "1" =~ /\d{1,10}/ # =&gt; 0<br />
p "1342234" =~ /\d{1,10}/ # =&gt; 0</code></code></code></li>
<li>Regular expressions have "modifiers". They appear after the last <code> / </code>, like <code> /i </code> or <code> /m </code>. You can use them like this:<br />
<code><code><code># i -&gt; case insensitive match<br />
# m -&gt; . will match everything including the newline "\n" character<br />
# x -&gt; ignore whitespace that is not explicitly added with \s (good for comments)<br />
date_regex = / # start of the regex<br />
(\d\d\.) # day match group<br />
\s # whitespace<br />
(\d\d\.) # month match group<br />
\s # whitespace<br />
(\d\d\d\d\.)$ # year match group<br />
/x # =&gt; comments are possible because of this x at the end<br />
date_regex.match("04. 09. 2013.")<br />
p $1 # =&gt; "04."<br />
p $2 # =&gt; "09."<br />
p $3 # =&gt; "2013."</code></code></code></li>
<li>You can use regexes withruby methods such as <code> scan, split, gsub and sub<br />
</code></li>
</ul>
</ol>
</ol>
